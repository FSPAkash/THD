{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AkashPatil\\\\THD-Dashboard\\\\frontend\\\\src\\\\components\\\\MetricCard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport './MetricCard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MetricCard({\n  label,\n  kpiKey,\n  postLift,\n  postTY,\n  postLY,\n  preLift,\n  preTY,\n  preLY,\n  compLift,\n  format,\n  periodLabel,\n  isSelected,\n  onSelect,\n  onExpand\n}) {\n  _s();\n  const [isHovered, setIsHovered] = useState(false);\n  const cardRef = useRef(null);\n  const {\n    isBetaMode\n  } = useAuth();\n  const isBeta = isBetaMode();\n  const isPositive = postLift > 0;\n  const isNegative = postLift < 0;\n\n  // Check if this KPI uses BPS for lift display\n  const isBpsKpi = kpiKey === 'cvr';\n\n  // Derived KPIs that should show placeholder in Beta mode\n  const isDerivedKpi = ['cvr', 'aov', 'rpv'].includes(kpiKey);\n  const showBetaPlaceholder = isBeta && isDerivedKpi;\n  const formatValue = value => {\n    if (value === null || value === undefined || isNaN(value)) return '-';\n    if (format === 'currency') {\n      if (Math.abs(value) >= 1000000) {\n        return `$${(value / 1000000).toFixed(1)}M`;\n      }\n      if (Math.abs(value) >= 1000) {\n        return `$${(value / 1000).toFixed(0)}K`;\n      }\n      return `$${value.toFixed(0)}`;\n    }\n    if (format === 'percentage') {\n      return `${(value * 100).toFixed(2)}%`;\n    }\n    if (Math.abs(value) >= 1000000) {\n      return `${(value / 1000000).toFixed(1)}M`;\n    }\n    if (Math.abs(value) >= 1000) {\n      return `${(value / 1000).toFixed(0)}K`;\n    }\n    return Math.round(value).toLocaleString();\n  };\n  const formatLift = value => {\n    if (value === null || value === undefined || isNaN(value)) return isBpsKpi ? '0 bps' : '0%';\n    if (isBpsKpi) {\n      return `${Math.abs(value).toFixed(0)} bps`;\n    }\n    return `${Math.abs(value).toFixed(1)}%`;\n  };\n  const formatChange = () => {\n    if (postTY === null || postLY === null || isNaN(postTY) || isNaN(postLY)) return '-';\n    const change = postTY - postLY;\n    const prefix = change >= 0 ? '+' : '';\n    if (format === 'currency') {\n      if (Math.abs(change) >= 1000000) {\n        return `${prefix}$${(change / 1000000).toFixed(1)}M`;\n      }\n      if (Math.abs(change) >= 1000) {\n        return `${prefix}$${(change / 1000).toFixed(0)}K`;\n      }\n      return `${prefix}$${change.toFixed(0)}`;\n    }\n    if (format === 'percentage') {\n      if (isBpsKpi) {\n        const bpsChange = change * 10000;\n        return `${prefix}${bpsChange.toFixed(0)} bps`;\n      }\n      return `${prefix}${change.toFixed(2)}pp`;\n    }\n    if (Math.abs(change) >= 1000000) {\n      return `${prefix}${(change / 1000000).toFixed(1)}M`;\n    }\n    if (Math.abs(change) >= 1000) {\n      return `${prefix}${(change / 1000).toFixed(0)}K`;\n    }\n    return `${prefix}${Math.round(change).toLocaleString()}`;\n  };\n  const getArrow = () => {\n    if (isPositive) return '↑';\n    if (isNegative) return '↓';\n    return '–';\n  };\n  const radius = 90;\n  const strokeWidth = 8;\n  const normalizedRadius = radius - strokeWidth / 2;\n  const circumference = 2 * Math.PI * normalizedRadius;\n  const maxLift = isBpsKpi ? 100 : 50;\n  const normalizedLift = Math.min(Math.abs(postLift || 0), maxLift);\n  const strokeDashoffset = circumference - normalizedLift / maxLift * circumference;\n  const handleCardClick = () => {\n    if (showBetaPlaceholder) return;\n    if (onSelect) onSelect(kpiKey);\n  };\n  const handleInfoClick = e => {\n    e.stopPropagation();\n    if (showBetaPlaceholder) return;\n    if (onExpand) {\n      var _cardRef$current;\n      const cardRect = (_cardRef$current = cardRef.current) === null || _cardRef$current === void 0 ? void 0 : _cardRef$current.getBoundingClientRect();\n      onExpand({\n        label,\n        kpiKey,\n        postLift,\n        postTY,\n        postLY,\n        preLift,\n        preTY,\n        preLY,\n        compLift,\n        format,\n        isBpsKpi,\n        cardRect: cardRect ? {\n          top: cardRect.top,\n          left: cardRect.left,\n          width: cardRect.width,\n          height: cardRect.height,\n          right: cardRect.right,\n          bottom: cardRect.bottom\n        } : null\n      });\n    }\n  };\n\n  // Beta placeholder for derived KPIs\n  if (showBetaPlaceholder) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"metric-card beta-placeholder\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-circle beta-circle\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"beta-placeholder-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"beta-placeholder-label\",\n            children: label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"beta-placeholder-text\",\n            children: \"Placeholder\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: cardRef,\n    className: `metric-card ${isPositive ? 'positive' : ''} ${isNegative ? 'negative' : ''} ${isSelected ? 'selected' : ''}`,\n    onClick: handleCardClick,\n    onMouseEnter: () => setIsHovered(true),\n    onMouseLeave: () => setIsHovered(false),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-circle\",\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        className: \"progress-ring\",\n        width: radius * 2,\n        height: radius * 2,\n        children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n          className: \"progress-bg\",\n          cx: radius,\n          cy: radius,\n          r: normalizedRadius,\n          strokeWidth: strokeWidth\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n          className: \"progress-bar\",\n          cx: radius,\n          cy: radius,\n          r: normalizedRadius,\n          strokeWidth: strokeWidth,\n          strokeDasharray: circumference,\n          strokeDashoffset: strokeDashoffset,\n          strokeLinecap: \"round\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `card-content ${isHovered ? 'hidden' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"card-label\",\n          children: label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"metric-main\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: `metric-arrow ${isPositive ? 'up' : ''} ${isNegative ? 'down' : ''}`,\n            children: getArrow()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"metric-percent\",\n            children: formatLift(postLift)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"metric-change\",\n          children: formatChange()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `card-hover-content ${isHovered ? 'visible' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hover-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"hover-label\",\n            children: \"TY\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"hover-value\",\n            children: formatValue(postTY)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hover-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"hover-label\",\n            children: \"LY\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"hover-value\",\n            children: formatValue(postLY)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hover-period\",\n          children: periodLabel\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"info-button\",\n        onClick: handleInfoClick,\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          width: \"16\",\n          height: \"16\",\n          viewBox: \"0 0 24 24\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          strokeWidth: \"2\",\n          children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n            cx: \"12\",\n            cy: \"12\",\n            r: \"10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n            x1: \"12\",\n            y1: \"16\",\n            x2: \"12\",\n            y2: \"12\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n            x1: \"12\",\n            y1: \"8\",\n            x2: \"12.01\",\n            y2: \"8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 151,\n    columnNumber: 5\n  }, this);\n}\n_s(MetricCard, \"B6DV/XmX7g62GE6n3tpvNA6+fNM=\", false, function () {\n  return [useAuth];\n});\n_c = MetricCard;\nexport default MetricCard;\nvar _c;\n$RefreshReg$(_c, \"MetricCard\");","map":{"version":3,"names":["React","useState","useRef","useAuth","jsxDEV","_jsxDEV","MetricCard","label","kpiKey","postLift","postTY","postLY","preLift","preTY","preLY","compLift","format","periodLabel","isSelected","onSelect","onExpand","_s","isHovered","setIsHovered","cardRef","isBetaMode","isBeta","isPositive","isNegative","isBpsKpi","isDerivedKpi","includes","showBetaPlaceholder","formatValue","value","undefined","isNaN","Math","abs","toFixed","round","toLocaleString","formatLift","formatChange","change","prefix","bpsChange","getArrow","radius","strokeWidth","normalizedRadius","circumference","PI","maxLift","normalizedLift","min","strokeDashoffset","handleCardClick","handleInfoClick","e","stopPropagation","_cardRef$current","cardRect","current","getBoundingClientRect","top","left","width","height","right","bottom","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","onClick","onMouseEnter","onMouseLeave","cx","cy","r","strokeDasharray","strokeLinecap","viewBox","fill","stroke","x1","y1","x2","y2","_c","$RefreshReg$"],"sources":["C:/Users/AkashPatil/THD-Dashboard/frontend/src/components/MetricCard.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport './MetricCard.css';\r\n\r\nfunction MetricCard({ \r\n  label, \r\n  kpiKey,\r\n  postLift, \r\n  postTY, \r\n  postLY, \r\n  preLift,\r\n  preTY,\r\n  preLY,\r\n  compLift,\r\n  format,\r\n  periodLabel,\r\n  isSelected,\r\n  onSelect,\r\n  onExpand\r\n}) {\r\n  const [isHovered, setIsHovered] = useState(false);\r\n  const cardRef = useRef(null);\r\n  const { isBetaMode } = useAuth();\r\n  \r\n  const isBeta = isBetaMode();\r\n  const isPositive = postLift > 0;\r\n  const isNegative = postLift < 0;\r\n  \r\n  // Check if this KPI uses BPS for lift display\r\n  const isBpsKpi = kpiKey === 'cvr';\r\n  \r\n  // Derived KPIs that should show placeholder in Beta mode\r\n  const isDerivedKpi = ['cvr', 'aov', 'rpv'].includes(kpiKey);\r\n  const showBetaPlaceholder = isBeta && isDerivedKpi;\r\n\r\n  const formatValue = (value) => {\r\n    if (value === null || value === undefined || isNaN(value)) return '-';\r\n    \r\n    if (format === 'currency') {\r\n      if (Math.abs(value) >= 1000000) {\r\n        return `$${(value / 1000000).toFixed(1)}M`;\r\n      }\r\n      if (Math.abs(value) >= 1000) {\r\n        return `$${(value / 1000).toFixed(0)}K`;\r\n      }\r\n      return `$${value.toFixed(0)}`;\r\n    }\r\n    if (format === 'percentage') {\r\n      return `${(value * 100).toFixed(2)}%`;\r\n    }\r\n    if (Math.abs(value) >= 1000000) {\r\n      return `${(value / 1000000).toFixed(1)}M`;\r\n    }\r\n    if (Math.abs(value) >= 1000) {\r\n      return `${(value / 1000).toFixed(0)}K`;\r\n    }\r\n    return Math.round(value).toLocaleString();\r\n  };\r\n\r\n  const formatLift = (value) => {\r\n    if (value === null || value === undefined || isNaN(value)) return isBpsKpi ? '0 bps' : '0%';\r\n    \r\n    if (isBpsKpi) {\r\n      return `${Math.abs(value).toFixed(0)} bps`;\r\n    }\r\n    \r\n    return `${Math.abs(value).toFixed(1)}%`;\r\n  };\r\n\r\n  const formatChange = () => {\r\n    if (postTY === null || postLY === null || isNaN(postTY) || isNaN(postLY)) return '-';\r\n    \r\n    const change = postTY - postLY;\r\n    const prefix = change >= 0 ? '+' : '';\r\n    \r\n    if (format === 'currency') {\r\n      if (Math.abs(change) >= 1000000) {\r\n        return `${prefix}$${(change / 1000000).toFixed(1)}M`;\r\n      }\r\n      if (Math.abs(change) >= 1000) {\r\n        return `${prefix}$${(change / 1000).toFixed(0)}K`;\r\n      }\r\n      return `${prefix}$${change.toFixed(0)}`;\r\n    }\r\n    if (format === 'percentage') {\r\n      if (isBpsKpi) {\r\n        const bpsChange = change * 10000;\r\n        return `${prefix}${bpsChange.toFixed(0)} bps`;\r\n      }\r\n      return `${prefix}${change.toFixed(2)}pp`;\r\n    }\r\n    if (Math.abs(change) >= 1000000) {\r\n      return `${prefix}${(change / 1000000).toFixed(1)}M`;\r\n    }\r\n    if (Math.abs(change) >= 1000) {\r\n      return `${prefix}${(change / 1000).toFixed(0)}K`;\r\n    }\r\n    return `${prefix}${Math.round(change).toLocaleString()}`;\r\n  };\r\n\r\n  const getArrow = () => {\r\n    if (isPositive) return '↑';\r\n    if (isNegative) return '↓';\r\n    return '–';\r\n  };\r\n\r\n  const radius = 90;\r\n  const strokeWidth = 8;\r\n  const normalizedRadius = radius - strokeWidth / 2;\r\n  const circumference = 2 * Math.PI * normalizedRadius;\r\n  \r\n  const maxLift = isBpsKpi ? 100 : 50;\r\n  const normalizedLift = Math.min(Math.abs(postLift || 0), maxLift);\r\n  const strokeDashoffset = circumference - (normalizedLift / maxLift) * circumference;\r\n\r\n  const handleCardClick = () => {\r\n    if (showBetaPlaceholder) return;\r\n    if (onSelect) onSelect(kpiKey);\r\n  };\r\n\r\n  const handleInfoClick = (e) => {\r\n    e.stopPropagation();\r\n    if (showBetaPlaceholder) return;\r\n    if (onExpand) {\r\n      const cardRect = cardRef.current?.getBoundingClientRect();\r\n      onExpand({\r\n        label, kpiKey, postLift, postTY, postLY,\r\n        preLift, preTY, preLY, compLift, format,\r\n        isBpsKpi,\r\n        cardRect: cardRect ? { top: cardRect.top, left: cardRect.left, width: cardRect.width, height: cardRect.height, right: cardRect.right, bottom: cardRect.bottom } : null\r\n      });\r\n    }\r\n  };\r\n\r\n  // Beta placeholder for derived KPIs\r\n  if (showBetaPlaceholder) {\r\n    return (\r\n      <div className=\"metric-card beta-placeholder\">\r\n        <div className=\"card-circle beta-circle\">\r\n          <div className=\"beta-placeholder-content\">\r\n\r\n            <span className=\"beta-placeholder-label\">{label}</span>\r\n            <span className=\"beta-placeholder-text\">Placeholder</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div\r\n      ref={cardRef}\r\n      className={`metric-card ${isPositive ? 'positive' : ''} ${isNegative ? 'negative' : ''} ${isSelected ? 'selected' : ''}`}\r\n      onClick={handleCardClick}\r\n      onMouseEnter={() => setIsHovered(true)}\r\n      onMouseLeave={() => setIsHovered(false)}\r\n    >\r\n      <div className=\"card-circle\">\r\n        <svg className=\"progress-ring\" width={radius * 2} height={radius * 2}>\r\n          <circle\r\n            className=\"progress-bg\"\r\n            cx={radius}\r\n            cy={radius}\r\n            r={normalizedRadius}\r\n            strokeWidth={strokeWidth}\r\n          />\r\n          <circle\r\n            className=\"progress-bar\"\r\n            cx={radius}\r\n            cy={radius}\r\n            r={normalizedRadius}\r\n            strokeWidth={strokeWidth}\r\n            strokeDasharray={circumference}\r\n            strokeDashoffset={strokeDashoffset}\r\n            strokeLinecap=\"round\"\r\n          />\r\n        </svg>\r\n\r\n        <div className={`card-content ${isHovered ? 'hidden' : ''}`}>\r\n          <span className=\"card-label\">{label}</span>\r\n          <div className=\"metric-main\">\r\n            <span className={`metric-arrow ${isPositive ? 'up' : ''} ${isNegative ? 'down' : ''}`}>\r\n              {getArrow()}\r\n            </span>\r\n            <span className=\"metric-percent\">{formatLift(postLift)}</span>\r\n          </div>\r\n          <span className=\"metric-change\">{formatChange()}</span>\r\n        </div>\r\n\r\n        <div className={`card-hover-content ${isHovered ? 'visible' : ''}`}>\r\n          <div className=\"hover-row\">\r\n            <span className=\"hover-label\">TY</span>\r\n            <span className=\"hover-value\">{formatValue(postTY)}</span>\r\n          </div>\r\n          <div className=\"hover-row\">\r\n            <span className=\"hover-label\">LY</span>\r\n            <span className=\"hover-value\">{formatValue(postLY)}</span>\r\n          </div>\r\n          <div className=\"hover-period\">{periodLabel}</div>\r\n        </div>\r\n\r\n        <button className=\"info-button\" onClick={handleInfoClick}>\r\n          <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n            <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\r\n            <line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line>\r\n            <line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MetricCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}