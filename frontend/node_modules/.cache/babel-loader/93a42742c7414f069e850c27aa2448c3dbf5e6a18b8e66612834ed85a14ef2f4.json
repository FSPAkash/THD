{"ast":null,"code":"import React,{useState}from'react';import{useAuth}from'../context/AuthContext';import'./MetricCard.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function MetricCard(_ref){let{label,kpiKey,postLift,postTY,postLY,preLift,preTY,preLY,compLift,format,periodLabel,isSelected,onSelect,onExpand}=_ref;const[isHovered,setIsHovered]=useState(false);const{isBetaMode}=useAuth();const isBeta=isBetaMode();const isPositive=postLift>0;const isNegative=postLift<0;// Check if this KPI uses BPS for lift display\nconst isBpsKpi=kpiKey==='cvr';// Derived KPIs that should show placeholder in Beta mode\nconst isDerivedKpi=['cvr','aov','rpv'].includes(kpiKey);const showBetaPlaceholder=isBeta&&isDerivedKpi;const formatValue=value=>{if(value===null||value===undefined||isNaN(value))return'-';if(format==='currency'){if(Math.abs(value)>=1000000){return\"$\".concat((value/1000000).toFixed(1),\"M\");}if(Math.abs(value)>=1000){return\"$\".concat((value/1000).toFixed(0),\"K\");}return\"$\".concat(value.toFixed(0));}if(format==='percentage'){return\"\".concat((value*100).toFixed(2),\"%\");}if(Math.abs(value)>=1000000){return\"\".concat((value/1000000).toFixed(1),\"M\");}if(Math.abs(value)>=1000){return\"\".concat((value/1000).toFixed(0),\"K\");}return Math.round(value).toLocaleString();};const formatLift=value=>{if(value===null||value===undefined||isNaN(value))return isBpsKpi?'0 bps':'0%';if(isBpsKpi){return\"\".concat(Math.abs(value).toFixed(0),\" bps\");}return\"\".concat(Math.abs(value).toFixed(1),\"%\");};const formatChange=()=>{if(postTY===null||postLY===null||isNaN(postTY)||isNaN(postLY))return'-';const change=postTY-postLY;const prefix=change>=0?'+':'';if(format==='currency'){if(Math.abs(change)>=1000000){return\"\".concat(prefix,\"$\").concat((change/1000000).toFixed(1),\"M\");}if(Math.abs(change)>=1000){return\"\".concat(prefix,\"$\").concat((change/1000).toFixed(0),\"K\");}return\"\".concat(prefix,\"$\").concat(change.toFixed(0));}if(format==='percentage'){if(isBpsKpi){const bpsChange=change*10000;return\"\".concat(prefix).concat(bpsChange.toFixed(0),\" bps\");}return\"\".concat(prefix).concat(change.toFixed(2),\"pp\");}if(Math.abs(change)>=1000000){return\"\".concat(prefix).concat((change/1000000).toFixed(1),\"M\");}if(Math.abs(change)>=1000){return\"\".concat(prefix).concat((change/1000).toFixed(0),\"K\");}return\"\".concat(prefix).concat(Math.round(change).toLocaleString());};const getArrow=()=>{if(isPositive)return'↑';if(isNegative)return'↓';return'–';};const radius=90;const strokeWidth=8;const normalizedRadius=radius-strokeWidth/2;const circumference=2*Math.PI*normalizedRadius;const maxLift=isBpsKpi?100:50;const normalizedLift=Math.min(Math.abs(postLift||0),maxLift);const strokeDashoffset=circumference-normalizedLift/maxLift*circumference;const handleCardClick=()=>{if(showBetaPlaceholder)return;if(onSelect)onSelect(kpiKey);};const handleInfoClick=e=>{e.stopPropagation();if(showBetaPlaceholder)return;if(onExpand){onExpand({label,kpiKey,postLift,postTY,postLY,preLift,preTY,preLY,compLift,format,isBpsKpi});}};// Beta placeholder for derived KPIs\nif(showBetaPlaceholder){return/*#__PURE__*/_jsx(\"div\",{className:\"metric-card beta-placeholder\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-circle beta-circle\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"beta-placeholder-content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"beta-placeholder-label\",children:label}),/*#__PURE__*/_jsx(\"span\",{className:\"beta-placeholder-text\",children:\"Placeholder\"})]})})});}return/*#__PURE__*/_jsx(\"div\",{className:\"metric-card \".concat(isPositive?'positive':'',\" \").concat(isNegative?'negative':'',\" \").concat(isSelected?'selected':''),onClick:handleCardClick,onMouseEnter:()=>setIsHovered(true),onMouseLeave:()=>setIsHovered(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-circle\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"progress-ring\",width:radius*2,height:radius*2,children:[/*#__PURE__*/_jsx(\"circle\",{className:\"progress-bg\",cx:radius,cy:radius,r:normalizedRadius,strokeWidth:strokeWidth}),/*#__PURE__*/_jsx(\"circle\",{className:\"progress-bar\",cx:radius,cy:radius,r:normalizedRadius,strokeWidth:strokeWidth,strokeDasharray:circumference,strokeDashoffset:strokeDashoffset,strokeLinecap:\"round\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-content \".concat(isHovered?'hidden':''),children:[/*#__PURE__*/_jsx(\"span\",{className:\"card-label\",children:label}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-main\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"metric-arrow \".concat(isPositive?'up':'',\" \").concat(isNegative?'down':''),children:getArrow()}),/*#__PURE__*/_jsx(\"span\",{className:\"metric-percent\",children:formatLift(postLift)})]}),/*#__PURE__*/_jsx(\"span\",{className:\"metric-change\",children:formatChange()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-hover-content \".concat(isHovered?'visible':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"hover-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"hover-label\",children:\"TY\"}),/*#__PURE__*/_jsx(\"span\",{className:\"hover-value\",children:formatValue(postTY)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hover-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"hover-label\",children:\"LY\"}),/*#__PURE__*/_jsx(\"span\",{className:\"hover-value\",children:formatValue(postLY)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"hover-period\",children:periodLabel})]}),/*#__PURE__*/_jsx(\"button\",{className:\"info-button\",onClick:handleInfoClick,children:/*#__PURE__*/_jsxs(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"10\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"16\",x2:\"12\",y2:\"12\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"8\",x2:\"12.01\",y2:\"8\"})]})})]})});}export default MetricCard;","map":{"version":3,"names":["React","useState","useAuth","jsx","_jsx","jsxs","_jsxs","MetricCard","_ref","label","kpiKey","postLift","postTY","postLY","preLift","preTY","preLY","compLift","format","periodLabel","isSelected","onSelect","onExpand","isHovered","setIsHovered","isBetaMode","isBeta","isPositive","isNegative","isBpsKpi","isDerivedKpi","includes","showBetaPlaceholder","formatValue","value","undefined","isNaN","Math","abs","concat","toFixed","round","toLocaleString","formatLift","formatChange","change","prefix","bpsChange","getArrow","radius","strokeWidth","normalizedRadius","circumference","PI","maxLift","normalizedLift","min","strokeDashoffset","handleCardClick","handleInfoClick","e","stopPropagation","className","children","onClick","onMouseEnter","onMouseLeave","width","height","cx","cy","r","strokeDasharray","strokeLinecap","viewBox","fill","stroke","x1","y1","x2","y2"],"sources":["C:/Users/AkashPatil/THD-Dashboard/frontend/src/components/MetricCard.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport './MetricCard.css';\r\n\r\nfunction MetricCard({ \r\n  label, \r\n  kpiKey,\r\n  postLift, \r\n  postTY, \r\n  postLY, \r\n  preLift,\r\n  preTY,\r\n  preLY,\r\n  compLift,\r\n  format,\r\n  periodLabel,\r\n  isSelected,\r\n  onSelect,\r\n  onExpand\r\n}) {\r\n  const [isHovered, setIsHovered] = useState(false);\r\n  const { isBetaMode } = useAuth();\r\n  \r\n  const isBeta = isBetaMode();\r\n  const isPositive = postLift > 0;\r\n  const isNegative = postLift < 0;\r\n  \r\n  // Check if this KPI uses BPS for lift display\r\n  const isBpsKpi = kpiKey === 'cvr';\r\n  \r\n  // Derived KPIs that should show placeholder in Beta mode\r\n  const isDerivedKpi = ['cvr', 'aov', 'rpv'].includes(kpiKey);\r\n  const showBetaPlaceholder = isBeta && isDerivedKpi;\r\n\r\n  const formatValue = (value) => {\r\n    if (value === null || value === undefined || isNaN(value)) return '-';\r\n    \r\n    if (format === 'currency') {\r\n      if (Math.abs(value) >= 1000000) {\r\n        return `$${(value / 1000000).toFixed(1)}M`;\r\n      }\r\n      if (Math.abs(value) >= 1000) {\r\n        return `$${(value / 1000).toFixed(0)}K`;\r\n      }\r\n      return `$${value.toFixed(0)}`;\r\n    }\r\n    if (format === 'percentage') {\r\n      return `${(value * 100).toFixed(2)}%`;\r\n    }\r\n    if (Math.abs(value) >= 1000000) {\r\n      return `${(value / 1000000).toFixed(1)}M`;\r\n    }\r\n    if (Math.abs(value) >= 1000) {\r\n      return `${(value / 1000).toFixed(0)}K`;\r\n    }\r\n    return Math.round(value).toLocaleString();\r\n  };\r\n\r\n  const formatLift = (value) => {\r\n    if (value === null || value === undefined || isNaN(value)) return isBpsKpi ? '0 bps' : '0%';\r\n    \r\n    if (isBpsKpi) {\r\n      return `${Math.abs(value).toFixed(0)} bps`;\r\n    }\r\n    \r\n    return `${Math.abs(value).toFixed(1)}%`;\r\n  };\r\n\r\n  const formatChange = () => {\r\n    if (postTY === null || postLY === null || isNaN(postTY) || isNaN(postLY)) return '-';\r\n    \r\n    const change = postTY - postLY;\r\n    const prefix = change >= 0 ? '+' : '';\r\n    \r\n    if (format === 'currency') {\r\n      if (Math.abs(change) >= 1000000) {\r\n        return `${prefix}$${(change / 1000000).toFixed(1)}M`;\r\n      }\r\n      if (Math.abs(change) >= 1000) {\r\n        return `${prefix}$${(change / 1000).toFixed(0)}K`;\r\n      }\r\n      return `${prefix}$${change.toFixed(0)}`;\r\n    }\r\n    if (format === 'percentage') {\r\n      if (isBpsKpi) {\r\n        const bpsChange = change * 10000;\r\n        return `${prefix}${bpsChange.toFixed(0)} bps`;\r\n      }\r\n      return `${prefix}${change.toFixed(2)}pp`;\r\n    }\r\n    if (Math.abs(change) >= 1000000) {\r\n      return `${prefix}${(change / 1000000).toFixed(1)}M`;\r\n    }\r\n    if (Math.abs(change) >= 1000) {\r\n      return `${prefix}${(change / 1000).toFixed(0)}K`;\r\n    }\r\n    return `${prefix}${Math.round(change).toLocaleString()}`;\r\n  };\r\n\r\n  const getArrow = () => {\r\n    if (isPositive) return '↑';\r\n    if (isNegative) return '↓';\r\n    return '–';\r\n  };\r\n\r\n  const radius = 90;\r\n  const strokeWidth = 8;\r\n  const normalizedRadius = radius - strokeWidth / 2;\r\n  const circumference = 2 * Math.PI * normalizedRadius;\r\n  \r\n  const maxLift = isBpsKpi ? 100 : 50;\r\n  const normalizedLift = Math.min(Math.abs(postLift || 0), maxLift);\r\n  const strokeDashoffset = circumference - (normalizedLift / maxLift) * circumference;\r\n\r\n  const handleCardClick = () => {\r\n    if (showBetaPlaceholder) return;\r\n    if (onSelect) onSelect(kpiKey);\r\n  };\r\n\r\n  const handleInfoClick = (e) => {\r\n    e.stopPropagation();\r\n    if (showBetaPlaceholder) return;\r\n    if (onExpand) {\r\n      onExpand({\r\n        label, kpiKey, postLift, postTY, postLY,\r\n        preLift, preTY, preLY, compLift, format,\r\n        isBpsKpi\r\n      });\r\n    }\r\n  };\r\n\r\n  // Beta placeholder for derived KPIs\r\n  if (showBetaPlaceholder) {\r\n    return (\r\n      <div className=\"metric-card beta-placeholder\">\r\n        <div className=\"card-circle beta-circle\">\r\n          <div className=\"beta-placeholder-content\">\r\n\r\n            <span className=\"beta-placeholder-label\">{label}</span>\r\n            <span className=\"beta-placeholder-text\">Placeholder</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div \r\n      className={`metric-card ${isPositive ? 'positive' : ''} ${isNegative ? 'negative' : ''} ${isSelected ? 'selected' : ''}`}\r\n      onClick={handleCardClick}\r\n      onMouseEnter={() => setIsHovered(true)}\r\n      onMouseLeave={() => setIsHovered(false)}\r\n    >\r\n      <div className=\"card-circle\">\r\n        <svg className=\"progress-ring\" width={radius * 2} height={radius * 2}>\r\n          <circle\r\n            className=\"progress-bg\"\r\n            cx={radius}\r\n            cy={radius}\r\n            r={normalizedRadius}\r\n            strokeWidth={strokeWidth}\r\n          />\r\n          <circle\r\n            className=\"progress-bar\"\r\n            cx={radius}\r\n            cy={radius}\r\n            r={normalizedRadius}\r\n            strokeWidth={strokeWidth}\r\n            strokeDasharray={circumference}\r\n            strokeDashoffset={strokeDashoffset}\r\n            strokeLinecap=\"round\"\r\n          />\r\n        </svg>\r\n\r\n        <div className={`card-content ${isHovered ? 'hidden' : ''}`}>\r\n          <span className=\"card-label\">{label}</span>\r\n          <div className=\"metric-main\">\r\n            <span className={`metric-arrow ${isPositive ? 'up' : ''} ${isNegative ? 'down' : ''}`}>\r\n              {getArrow()}\r\n            </span>\r\n            <span className=\"metric-percent\">{formatLift(postLift)}</span>\r\n          </div>\r\n          <span className=\"metric-change\">{formatChange()}</span>\r\n        </div>\r\n\r\n        <div className={`card-hover-content ${isHovered ? 'visible' : ''}`}>\r\n          <div className=\"hover-row\">\r\n            <span className=\"hover-label\">TY</span>\r\n            <span className=\"hover-value\">{formatValue(postTY)}</span>\r\n          </div>\r\n          <div className=\"hover-row\">\r\n            <span className=\"hover-label\">LY</span>\r\n            <span className=\"hover-value\">{formatValue(postLY)}</span>\r\n          </div>\r\n          <div className=\"hover-period\">{periodLabel}</div>\r\n        </div>\r\n\r\n        <button className=\"info-button\" onClick={handleInfoClick}>\r\n          <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n            <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\r\n            <line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line>\r\n            <line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MetricCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}